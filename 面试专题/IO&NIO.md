##IO&NIO



#### NIO和IO（BIO）的区别

- nio
  - 面向缓冲
  - 非阻塞io
  - 双向的
  - **Selector** 选择器
- io
  - 面向流
  - 阻塞io
  - 单向的
  - 没有选择器



#### NIO的方法和属性

- allocate（）：创建缓冲区，使用为ByteBuffer.allocate(1024);

- put（）：向缓冲区添加数据
- get（）：获取缓冲区数据
- flip（）：将写操作转换成读操作
- rewind（）：从头再次读取position变为0
- mark（）：用来标记当前position的位置
- clear（）：情况缓冲区，使position和limit初始化，但是并不清空原有数据
- Capacity：表示缓冲区最大容量
- Position：表示当前所在的位置下标
- Limit：表示读写数据的界限，就是我的数据已经存储到了那个位置
- Mark：标记，可以用来标记position的值



#### 阻塞和非阻塞

指的是在访问某个资源的时候，数据是否准备就绪，

**阻塞**：如果数据为准备就绪，线程就会一直等待数据准备完成，此时会造成阻塞

**非阻塞**: 而非阻塞就是，在数据准备就绪之后，线程再去访问

​	

#### Selector 选择器 （多路复用器）

**单个线程，通过记录跟踪每个I/O流(sock)的状态，来同时管理多个I/O流** 

他是与通道相配合使用的，通道注册在选择器中，此时的通道必须为非阻塞模式，然后去监听他们的状态（读，写，连接，接收），然后轮询获取已经准备就绪的通道，发现有就绪成功的通道，再去进行下一步操作

